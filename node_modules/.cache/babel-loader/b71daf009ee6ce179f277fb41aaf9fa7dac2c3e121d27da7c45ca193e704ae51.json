{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thula\\\\Downloads\\\\flowtoo-ultimate-complete-FINAL\\\\website_review\\\\frontend\\\\src\\\\components\\\\WishlistButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { FaHeart, FaRegHeart } from \"react-icons/fa\";\nimport \"./WishlistButton.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WishlistButton({\n  product,\n  size = \"medium\"\n}) {\n  _s();\n  const [isWishlisted, setIsWishlisted] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Load wishlist from localStorage on mount\n  useEffect(() => {\n    const wishlist = JSON.parse(localStorage.getItem(\"wishlist\") || \"[]\");\n    setIsWishlisted(wishlist.some(item => item._id === product._id));\n  }, [product._id]);\n  const handleWishlistToggle = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const wishlist = JSON.parse(localStorage.getItem(\"wishlist\") || \"[]\");\n      if (isWishlisted) {\n        // Remove from wishlist\n        const updatedWishlist = wishlist.filter(item => item._id !== product._id);\n        localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n        setIsWishlisted(false);\n\n        // Sync with backend if user is logged in\n        if (token) {\n          await fetch(`/api/wishlist/${product._id}`, {\n            method: \"DELETE\",\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n        }\n      } else {\n        // Add to wishlist\n        const updatedWishlist = [...wishlist, product];\n        localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n        setIsWishlisted(true);\n\n        // Sync with backend if user is logged in\n        if (token) {\n          await fetch(\"/api/wishlist\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({\n              productId: product._id\n            })\n          });\n        }\n      }\n    } catch (error) {\n      console.error(\"Wishlist error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const sizeClasses = {\n    small: \"wishlist-btn-small\",\n    medium: \"wishlist-btn-medium\",\n    large: \"wishlist-btn-large\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `wishlist-btn ${sizeClasses[size]} ${isWishlisted ? \"active\" : \"\"}`,\n    onClick: handleWishlistToggle,\n    disabled: loading,\n    title: isWishlisted ? \"Remove from wishlist\" : \"Add to wishlist\",\n    children: isWishlisted ? /*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }, this) : /*#__PURE__*/_jsxDEV(FaRegHeart, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 37\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(WishlistButton, \"kEkt5JV5GNQLlhlCtz/oUWbNbB8=\");\n_c = WishlistButton;\nvar _c;\n$RefreshReg$(_c, \"WishlistButton\");","map":{"version":3,"names":["React","useState","useEffect","FaHeart","FaRegHeart","jsxDEV","_jsxDEV","WishlistButton","product","size","_s","isWishlisted","setIsWishlisted","loading","setLoading","wishlist","JSON","parse","localStorage","getItem","some","item","_id","handleWishlistToggle","e","preventDefault","stopPropagation","token","updatedWishlist","filter","setItem","stringify","fetch","method","headers","Authorization","body","productId","error","console","sizeClasses","small","medium","large","className","onClick","disabled","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/thula/Downloads/flowtoo-ultimate-complete-FINAL/website_review/frontend/src/components/WishlistButton.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FaHeart, FaRegHeart } from \"react-icons/fa\";\nimport \"./WishlistButton.css\";\n\nexport default function WishlistButton({ product, size = \"medium\" }) {\n  const [isWishlisted, setIsWishlisted] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Load wishlist from localStorage on mount\n  useEffect(() => {\n    const wishlist = JSON.parse(localStorage.getItem(\"wishlist\") || \"[]\");\n    setIsWishlisted(wishlist.some(item => item._id === product._id));\n  }, [product._id]);\n\n  const handleWishlistToggle = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      const wishlist = JSON.parse(localStorage.getItem(\"wishlist\") || \"[]\");\n\n      if (isWishlisted) {\n        // Remove from wishlist\n        const updatedWishlist = wishlist.filter(item => item._id !== product._id);\n        localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n        setIsWishlisted(false);\n\n        // Sync with backend if user is logged in\n        if (token) {\n          await fetch(`/api/wishlist/${product._id}`, {\n            method: \"DELETE\",\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          });\n        }\n      } else {\n        // Add to wishlist\n        const updatedWishlist = [...wishlist, product];\n        localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n        setIsWishlisted(true);\n\n        // Sync with backend if user is logged in\n        if (token) {\n          await fetch(\"/api/wishlist\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`,\n            },\n            body: JSON.stringify({ productId: product._id }),\n          });\n        }\n      }\n    } catch (error) {\n      console.error(\"Wishlist error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const sizeClasses = {\n    small: \"wishlist-btn-small\",\n    medium: \"wishlist-btn-medium\",\n    large: \"wishlist-btn-large\",\n  };\n\n  return (\n    <button\n      className={`wishlist-btn ${sizeClasses[size]} ${isWishlisted ? \"active\" : \"\"}`}\n      onClick={handleWishlistToggle}\n      disabled={loading}\n      title={isWishlisted ? \"Remove from wishlist\" : \"Add to wishlist\"}\n    >\n      {isWishlisted ? <FaHeart /> : <FaRegHeart />}\n    </button>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}